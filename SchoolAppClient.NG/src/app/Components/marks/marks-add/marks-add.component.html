<h2>Add New Mark</h2>

<div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
</div>


<form (ngSubmit)="onSubmit()" #markForm="ngForm">


    <span *ngIf="markForm.invalid" class="text-danger">
        Fillup all required (*) fields to submit this form
    </span>



    <div class="row">
        <div class="form-group  col-md-6">
            <label for="totalMarks" class="required">Total Marks</label>
            <input type="number" class="form-control" id="totalMarks" [(ngModel)]="mark.totalMarks" name="totalMarks" required #totalMarks="ngModel">

            <div *ngIf="totalMarks.invalid && (totalMarks.dirty || totalMarks.touched )" class="alert alert-danger">
                Total Marks is required
            </div>

        </div>


        <div class="form-group  col-md-6">
            <label for="passMarks" class="required">Pass Marks</label>
            <input type="number" class="form-control" id="passMarks" [(ngModel)]="mark.passMarks" name="passMarks" required #passMarks="ngModel">

            <div *ngIf="passMarks.invalid && (passMarks.dirty || passMarks.touched || passMarks.untouched)" class="text-danger">
                Pass Marks is required
            </div>

        </div>
    </div>
    <div class="row">

        <div class="form-group col-md-6">
            <label for="obtainedScore" class="required">Obtained Score</label>
            <input type="number" class="form-control" id="obtainedScore" [(ngModel)]="mark.obtainedScore" name="obtainedScore" required #obtainedScore="ngModel">

            <div *ngIf="obtainedScore.invalid && (obtainedScore.dirty || obtainedScore.touched || obtainedScore.untouched)" class="text-danger">
                Obatained Score is required
            </div>

        </div>

        <div class="form-group col-md-6">
            <label for="grade" class="required">Grade</label>
            <select class="form-control" id="grade" [(ngModel)]="mark.grade" name="grade" required #grade="ngModel">
                <option *ngFor="let grade of grades" [value]="grade">{{ grade }}</option>
            </select>

            <div *ngIf="grade.invalid && (grade.dirty || grade.touched || grade.untouched)" class="text-danger">
                Grade is required
            </div>

        </div>
    </div>

    <div class="form-group">
        <label for="passStatus" class="required">Pass Status</label>
        <select class="form-control" id="passStatus" [(ngModel)]="mark.passStatus" name="passStatus" required #passStatus="ngModel">
            <option *ngFor="let pass of passes" [value]="pass">{{ pass }}</option>
        </select>

        <div *ngIf="passStatus.invalid && (passStatus.dirty || passStatus.touched || passStatus.untouched)" class="text-danger">
            Pass Status is required
        </div>

    </div>

    <div class="form-group">
        <label for="markEntryDate" class="required">Mark Entry Date</label>
        <input type="date" class="form-control" id="markEntryDate" [(ngModel)]="mark.markEntryDate" name="markEntryDate" required #markEntryDate="ngModel">

        <div *ngIf="markEntryDate.invalid && (markEntryDate.dirty || markEntryDate.touched || markEntryDate.untouched)" class="text-danger">
            Mark Entry Date is required
        </div>

    </div>

    <div class="form-group">
        <label for="feedback">Feedback</label>
        <textarea class="form-control" id="feedback" [(ngModel)]="mark.feedback" name="feedback" rows="3"></textarea>
    </div>

    <div class="form-group">
        <label for="staffId" class="required">Staff ID</label>
        <input type="number" class="form-control" id="staffId" [(ngModel)]="mark.staffId" name="staffId" required #staffId="ngModel">

        <div *ngIf="staffId.invalid && (staffId.dirty || staffId.touched || staffId.untouched)" class="text-danger">
            Staff ID is required
        </div>

    </div>

    <div class="form-group">
        <label for="studentId" class="required">
            Student ID
        </label>
        <input type="number" class="form-control" id="studentId" [(ngModel)]="mark.studentId" name="studentId" required #studentId="ngModel">

        <div *ngIf="studentId.invalid && (studentId.dirty || studentId.touched || studentId.untouched)" class="text-danger">
            Student ID is required
        </div>

    </div>

    <div class="form-group">
        <label for="subjectId" class="required">Subject ID</label>
        <input type="number" class="form-control" id="subjectId" [(ngModel)]="mark.subjectId" name="subjectId" required #subjectId="ngModel">

        <div *ngIf="subjectId.invalid && (subjectId.dirty || subjectId.touched || subjectId.untouched)" class="text-danger">
            Subject ID is required
        </div>

    </div>



    <button type="submit" [disabled]="markForm.invalid" class="btn btn-primary">Submit</button>
</form>




